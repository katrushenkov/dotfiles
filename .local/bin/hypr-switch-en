#!/bin/bash

OS="$(uname -s)"

if [[ "${OS}" == "Linux"* ]]; then

  kbd="$(hyprctl devices -j | jq -r '.keyboards | .[] | select(.main == true) | .name')"

  hyprctl switchxkblayout $kbd 0 > /dev/null

elif [[ "${OS}" == "Darwin"* ]]; then

  CURRENT_LAYOUT=$(im-select)

  [[ $CURRENT_LAYOUT == "com.apple.keylayout.Russian" ]] && im-select com.apple.keylayout.US

fi
