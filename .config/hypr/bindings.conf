# Application bindings
$terminal = uwsm-app -- xdg-terminal-exec
$browser = omarchy-launch-browser

bindd = SUPER,  RETURN, Terminal, exec, $terminal --dir="$(omarchy-cmd-terminal-cwd)"
bindd = SUPER SHIFT, F, File manager, exec, uwsm-app -- nautilus --new-window
bindd = SUPER SHIFT, B, Browser, exec, $browser
bindd = SUPER SHIFT ALT, B, Browser (private), exec, $browser --private
bindd = SUPER SHIFT, M, Music, exec, omarchy-launch-or-focus spotify
bindd = SUPER SHIFT, N, Editor, exec, omarchy-launch-editor
bindd = SUPER SHIFT, T, Activity, exec, $terminal -e btop
bindd = SUPER SHIFT, D, Docker, exec, $terminal -e lazydocker
bindd = SUPER SHIFT, G, Signal, exec, omarchy-launch-or-focus signal "uwsm-app -- signal-desktop"
bindd = SUPER SHIFT, O, Obsidian, exec, omarchy-launch-or-focus "^obsidian$" "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"
bindd = SUPER SHIFT, W, Typora, exec, uwsm-app -- typora --enable-wayland-ime
bindd = SUPER SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password

# Move focus with mainMod + [H, L, K, J]
bind = SUPER, L, movefocus, r
bind = SUPER, H, movefocus, l
bind = SUPER, K, movefocus, u
bind = SUPER, J, movefocus, d

bind = SUPER, grave, exec, pkill -SIGUSR1 waybar
bind = SUPER SHIFT, grave, exec, pkill waybar & hyprctl dispatch exec waybar
# bindd = SUPER, SPACE, Omarchy menu, exec, omarchy-menu
# bind = SUPER SHIFT, Return, exec, $terminal in float mode
bind = SUPER, Z, exec, pypr zoom

bind = SUPER, KP_End,   workspace, 1
bind = SUPER, KP_Down,  workspace, 2
bind = SUPER, KP_Next,  workspace, 3
bind = SUPER, KP_Left,  workspace, 4
bind = SUPER, KP_Begin, workspace, 5
#bind = SUPER, KP_Right, workspace, 6
#bind = SUPER, KP_Home,  workspace, 7
#bind = SUPER, KP_Up,    workspace, 8
#bind = SUPER, KP_Prior, workspace, 9
#bind = SUPER, KP_Insert,workspace, 10

$terminal = footclient
$sc = ~/.local/bin/

# Hostname-based config sourcing (monitors etc.)
# source = /home/ser/.config/hypr/hyprland-by-hostname.conf

# bind = SUPER+V, exec, foot --name fzfterm -e bash -ic "fzf"
# bind = SUPER, V, exec, kitty --class fzfterm
# bind = SUPER, V, exec, foot -a fzfterm
# windowrule = float,class:fzfterm

# Keybinds
bind = SUPER,       P, exec, tessen -a autotype
bind = SUPER SHIFT, P, exec, tessen -a copy
bind = CTRL ALT, Delete, exec, hyprctl dispatch exit 0
bind = ALT,   TAB,  exec, ~/.config/hypr/scripts/windows.sh
bind = SUPER, G,    exec, $sc/datagrip-go
bind = SUPER, C,    exec, $sc/go-ssh
bind = SUPER, D,    exec, $sc/tofi_run
bind = SUPER, E,    exec, $sc/tofi-edit
bind = SUPER, B,    exec, $sc/hypr-switch-en; $sc/bookmarks-web -so
bind = SUPER, M,    exec, mousepad
bind = SUPER, N,    exec, $terminal nnn
bind = SUPER, R,    exec, $sc/rem
bind = SUPER, T,    exec, thunar
bind = SUPER, Q, killactive
bind = SUPER, F12,  exec, $sc/powermenu
bind = SUPER, W,    exec, vivaldi
bind = SUPER, I,      exec, $sc/snippets-type
bind = SUPER, Insert, exec, $sc/snippets-type
bind = SUPER, Y, exec, $sc/snippets-yank
bind = ALT,   Y, exec, $sc/snippets-yank

bind = SUPER SHIFT, I, exec, $sc/snippets-files
bind = SUPER SHIFT, Y, exec, $sc/snippets-files
bind = SUPER SHIFT, R, exec, hyprctl reload
bind = SUPER SHIFT, T, pseudo, # dwindle
bind = SUPER SHIFT, E, exit,
# bind = SUPER, Space, togglefloating
bindd = SUPER, backslash, Toggle window split, togglesplit, # dwindle
# bindd = SUPER, P, Pseudo window, pseudo, # dwindle
# bindd = SUPER, T, Toggle window floating/tiling, togglefloating,
bind = SUPER, PRINT, exec, hyprshot -z -m window

bind = ALT, E, exec, $sc/emoji-paste
bind = , PRINT, exec, grimblast -f save area - | satty --filename -

#bind = SUPER SHIFT, G, exec, makoctl dismiss -a
bind = SUPER SHIFT, T, exec, makoctl menu wofi -d -p 'Choose Action: '
bind = SUPER SHIFT, S, exec, $sc/hypr-rec
#bind = SUPER+shift+period exec makoctl menu wofi -d -p 'Choose Action: '

#bind = Ctrl+Shift+Alt, Delete, exec, pkill wlogout || wlogout -p layer-shell # [hidden]

bind = ALT      , B, exec, pkill -SIGUSR1 waybar
bind = ALT SHIFT, B, exec, killall waybar ; waybar &
bind = ALT CTRL, L, exec, ~/.config/hypr/scripts/LockScreen.sh

#bind = SUPER, E, exec, [workspace 2 silent; float; move 50% 50%] kitty
#bind = SUPER, B, exec, pkill -USR1 gammastep || gammastep
#bind = , mouse:278,exec,wtype -M ctrl w -m ctrl # mouse extra button to send ctrl+w
#bind = SUPER, F1, exec, 

# For passthrough keyboard into a VM
# bind = SUPER ALT, P, submap, passthru
#submap = passthru
# to unbind
#bind = SUPER ALT, P, submap, reset
#submap = reset

# Move active window with mainMod + SHIFT + [H, L, K, J]
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, L, movewindow, r
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, J, movewindow, d
bind = SUPER SHIFT, left,  movewindow, l
bind = SUPER SHIFT, right, movewindow, r
bind = SUPER SHIFT, up,    movewindow, u
bind = SUPER SHIFT, down,  movewindow, d

# Resize active window with mainMod + ALT + [H, L, K, J]
bind = SUPER ALT, H, resizeactive, -30 0
bind = SUPER ALT, L, resizeactive, 30 0
bind = SUPER ALT, K, resizeactive, 0 -30
bind = SUPER ALT, J, resizeactive, 0 30

# Switch workspaces with mainMod + [0-9]
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
#bind = SUPER, 5, workspace, 5
#bind = SUPER, 6, workspace, 6
#bind = SUPER, 7, workspace, 7
#bind = SUPER, 8, workspace, 8
#bind = SUPER, 9, workspace, 9
#bind = SUPER, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
#bind = SUPER SHIFT, 5, movetoworkspace, 5
#bind = SUPER SHIFT, 6, movetoworkspace, 6
#bind = SUPER SHIFT, 7, movetoworkspace, 7
#bind = SUPER SHIFT, 8, movetoworkspace, 8
#bind = SUPER SHIFT, 9, movetoworkspace, 9
#bind = SUPER SHIFT, 0, movetoworkspace, 10

bind = ALT, L, movecurrentworkspacetomonitor, +1
bind = ALT, H, movecurrentworkspacetomonitor, -1

bind = SUPER, TAB, workspace, e+1
bindd = ALT, J, Next workspace    , workspace, e+1
bindd = ALT, K, Previous workspace, workspace, e-1

# Scroll through existing workspaces with mainMod + scroll
bind = SUPER, mouse_down, workspace, e-1
bind = SUPER, mouse_up,   workspace, e+1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# special workspaces (scratchpads)
bind = ALT       , F,       togglespecialworkspace, firefox
bind = ALT SHIFT , F,       movetoworkspace, special:firefox
bind = ALT       , W,       togglespecialworkspace, whatsapp
bind = ALT SHIFT , W,       movetoworkspace, special:whatsapp
bind = ALT  , RETURN, exec, pypr toggle term
